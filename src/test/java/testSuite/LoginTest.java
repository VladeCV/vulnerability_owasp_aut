package testSuite;

import org.junit.jupiter.api.AfterEach;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Order;
import org.junit.jupiter.api.Test;
import page.LoginPage;
import page.MainPage;
import session.Session;

public class LoginTest {
    MainPage mainPage = new MainPage();
    LoginPage loginPage = new LoginPage();


    @BeforeEach
    public void openBrowser() {
        Session.getSession().getBrowser().get("https://demo.owasp-juice.shop/");
    }

    @Order(1)
    @Test
    public void loginTest() throws InterruptedException {
        mainPage.dismissButton.click();
        mainPage.accountButton.click();
        mainPage.loginButton.click();
        loginPage.emailTxtBox.setText("vladimircabrecabri@gmail.com");
        loginPage.passwordTxtBox.setText("N6smyx84!uSdML!");
        loginPage.loginButton.click();
    }

    @AfterEach
    public void closeBrowser() {
        Session.getSession().closeSession();
    }
}
